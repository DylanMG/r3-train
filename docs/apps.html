<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Applications</title>

<script src="site_libs/header-attrs-2.9/header-attrs.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="site_libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="site_libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="site_libs/leaflet-1.3.1/leaflet.js"></script>
<link href="site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="site_libs/proj4-2.6.2/proj4.min.js"></script>
<script src="site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="site_libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<script src="site_libs/plotly-binding-4.9.4.1/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-1.57.1/plotly-latest.min.js"></script>
<link href="site_libs/ionrangeslider-2.1.2/css/ion.rangeSlider.css" rel="stylesheet" />
<link href="site_libs/ionrangeslider-2.1.2/css/ion.rangeSlider.skinShiny.css" rel="stylesheet" />
<script src="site_libs/ionrangeslider-2.1.2/js/ion.rangeSlider.min.js"></script>
<script src="site_libs/strftime-0.9.2/strftime-min.js"></script>
<link href="site_libs/leaflet-easybutton-1.3.1/easy-button.css" rel="stylesheet" />
<script src="site_libs/leaflet-easybutton-1.3.1/easy-button.js"></script>
<script src="site_libs/leaflet-easybutton-1.3.1/EasyButton-binding.js"></script>
<link href="site_libs/leaflet-locationfilter2-0.1.1/locationfilter.css" rel="stylesheet" />
<script src="site_libs/leaflet-locationfilter2-0.1.1/locationfilter.js"></script>
<script src="site_libs/leaflet-locationfilter2-0.1.1/locationfilter-bindings.js"></script>
<link href="site_libs/ionicons-2.0.1/ionicons.min.css" rel="stylesheet" />
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="site_libs/datatables-binding-0.18/datatables.js"></script>
<link href="site_libs/dt-core-bootstrap-1.10.20/css/dataTables.bootstrap.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-bootstrap-1.10.20/css/dataTables.bootstrap.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-bootstrap-1.10.20/js/jquery.dataTables.min.js"></script>
<script src="site_libs/dt-core-bootstrap-1.10.20/js/dataTables.bootstrap.min.js"></script>
<link href="site_libs/dt-ext-scroller-bootstrap-1.10.20/css/scroller.bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/dt-ext-scroller-bootstrap-1.10.20/js/dataTables.scroller.min.js"></script>
<script src="site_libs/dt-ext-scroller-bootstrap-1.10.20/js/scroller.bootstrap.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8XF7V8KERR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8XF7V8KERR');
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<link rel="stylesheet" href="libs/swcarpentry-lesson.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R<sup>3</sup></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="collaborate.html">
    <span class="fa fa-users"></span>
     
    Collaborate
  </a>
</li>
<li>
  <a href="manipulate.html">
    <span class="fas fa-wrench"></span>
     
    Manipulate
  </a>
</li>
<li>
  <a href="visualize.html">
    <span class="fas fa-chart-bar"></span>
     
    Visualize
  </a>
</li>
<li>
  <a href="map.html">
    <span class="fas fa-map"></span>
     
    Map
  </a>
</li>
<li>
  <a href="report.html">
    <span class="fas fa-book"></span>
     
    Report
  </a>
</li>
<li>
  <a href="infographics.html">
    <span class="fas fa-info-circle"></span>
     
    Infographics
  </a>
</li>
<li>
  <a href="applications.html">
    <span class="fas fa-rocket"></span>
     
    Applications
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="setup.html">
    <span class="fas fa-cogs"></span>
     
    Setup
  </a>
</li>
<li>
  <a href="resources.html">
    <span class="fas fa-search"></span>
     
    Resources
  </a>
</li>
<li>
  <a href="roster.html">
    <span class="fas fa-user-friends"></span>
     
    Roster
  </a>
</li>
<li>
  <a href="https://github.com/noaa-iea/r3-train">
    <span class="fab fa-github"></span>
     
    Repo
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>




</div>


<div id="applications" class="section level1" number="1">
<h1 number="6"><span class="header-section-number">6</span> Applications</h1>
<div id="learning-objectives" class="section level2 unnumbered objectives">
<h2 class="unnumbered objectives">Learning Objectives</h2>
<p>Use the Shiny framework to develop online interactive applications accepting user input to render outputs from arbitrary R functions. Server requirements differentiating from simpler Rmarkdown renderings will be reviewed as well as use of Crosstalk to gain similar functionality with Rmarkdown with simple data.</p>
</div>
<div id="install-shiny-r-package" class="section level2" number="1.1">
<h2 number="6.1"><span class="header-section-number">6.1</span> Install <code>shiny</code> R package</h2>
<p>Ensure you have the <code>shiny</code> R package installed. Look in RStudio’s Packages pane and Install if not found when searching for “shiny”.</p>
<p>A few other packages will get used so let’s use the librarian::shelf() command to install if needed:</p>
<pre class="r"><code>librarian::shelf(
  plotly, reactlog, shiny, shinydashboard)</code></pre>
</div>
<div id="create-your-first-shiny-web-app" class="section level2" number="1.2">
<h2 number="6.2"><span class="header-section-number">6.2</span> Create your first Shiny web app</h2>
<p>Similar to other examples, let’s create a simple Shiny app starting from the provided default by going to <strong>File</strong> -&gt; <strong>New File</strong> -&gt; <strong>Shiny Web App</strong>… and name it <strong><em>app-faithful</em></strong> (after <a href="https://www.rdocumentation.org/packages/datasets/versions/3.6.2/topics/faithful">faithful</a>, the Old Faithful geyser eruption frequency dataset used in this default example):</p>
<p><img src="figs/apps/new-shiny_app-faithful.png" width="400" /></p>
<p>For now, let’s go with the default <strong>Single File</strong> option that puts the entire application in <code>app.R</code> rather than splitting it in two (<code>ui.R</code>/<code>server.R</code>). You should see the following contents in the new <code>app.R</code> file contents:</p>
<pre class="r"><code>#
# This is a Shiny web application. You can run the application by clicking
# the &#39;Run App&#39; button above.
#
# Find out more about building applications with Shiny here:
#
#    http://shiny.rstudio.com/
#

library(shiny)

# Define UI for application that draws a histogram
ui &lt;- fluidPage(

    # Application title
    titlePanel(&quot;Old Faithful Geyser Data&quot;),

    # Sidebar with a slider input for number of bins 
    sidebarLayout(
        sidebarPanel(
            sliderInput(&quot;bins&quot;,
                        &quot;Number of bins:&quot;,
                        min = 1,
                        max = 50,
                        value = 30)
        ),

        # Show a plot of the generated distribution
        mainPanel(
           plotOutput(&quot;distPlot&quot;)
        )
    )
)

# Define server logic required to draw a histogram
server &lt;- function(input, output) {

    output$distPlot &lt;- renderPlot({
        # generate bins based on input$bins from ui.R
        x    &lt;- faithful[, 2]
        bins &lt;- seq(min(x), max(x), length.out = input$bins + 1)

        # draw the histogram with the specified number of bins
        hist(x, breaks = bins, col = &#39;darkgray&#39;, border = &#39;white&#39;)
    })
}

# Run the application 
shinyApp(ui = ui, server = server)</code></pre>
<p>Let’s next <strong>Run App</strong>. Note that you can change the options by clicking on the down triangle next to the button, such as running the app in your default web browser (<strong><em>Run External</em></strong>), a pop-up window or in RStudio’s Viewer Pane.</p>
<p><img src="figs/apps/shiny-run-app-options.png" width="200" /></p>
<p>Now you can change the values in the slider on the left, then see the plot updated:</p>
<p><img src="figs/apps/faithful-app.png" width="600" /></p>
<p>In Shiny parlance, the histogram plot is <strong><em>reactive</em></strong> to the slider. Normally when creating web apps, this type of “reactivity” is quite complicated to code, but here by simply using <code>input$bins</code> in the plotting function for the <code>output$distPlot</code>, Shiny registers that this plot needs to be updated when the user changes the <code>input$bins</code> value.</p>
<div id="run-in-showcase-mode" class="section level3" number="1.2.1">
<h3 number="6.2.1"><span class="header-section-number">6.2.1</span> Run in showcase mode</h3>
<p>This default example along with other are made available in the shiny package’s installed folder:</p>
<pre class="r"><code># get path to &quot;examples&quot; under your installation of the Shiny R package
dir_examples  &lt;- system.file(&quot;examples&quot;, package=&quot;shiny&quot;)

# get all directories listed there
dirs_examples &lt;- list.dirs(dir_examples, recursive = F)

# show the folder name only, not the rest of the path preceding (ie dirname())
basename(dirs_examples)</code></pre>
<pre><code>##  [1] &quot;01_hello&quot;      &quot;02_text&quot;       &quot;03_reactivity&quot; &quot;04_mpg&quot;       
##  [5] &quot;05_sliders&quot;    &quot;06_tabsets&quot;    &quot;07_widgets&quot;    &quot;08_html&quot;      
##  [9] &quot;09_upload&quot;     &quot;10_download&quot;   &quot;11_timer&quot;</code></pre>
<p>Another way to launch the shiny app is with the following:</p>
<pre class="r"><code># set directory to 01_hello app, aka the simplest default faithful app
dir_hello_app &lt;- file.path(dir_examples, &quot;01_hello&quot;)

# run the app with display.mode = &quot;auto&quot;
#   which under shiny R package uses &quot;showcase&quot; mode because of the DESCRIPTION  file there (see ?shiny::runApp)
shiny::runApp(dir_hello_app)</code></pre>
</div>
</div>
<div id="download-run-examples" class="section level2" number="1.3">
<h2 number="6.3"><span class="header-section-number">6.3</span> Download &amp; run examples</h2>
<p>Next, let’s go through examples together.</p>
<p>Download <a href="https://github.com/bbest/shiny-intro/archive/master.zip">shiny-intro-master.zip</a> into your <code>r3-exercises/</code>, unzip it and rename the top-level folder to <code>apps/</code> so you can see the following application folders directly under <code>r3-exercises/apps/</code>:</p>
<ul>
<li><code>01_faithful</code>: default app from using RStudio, File &gt; New File &gt; Shiny Web App… <img src="figs/apps/screenshot-01_faithful.png" /></li>
<li><code>02_quakes_mag</code>: swap to quakes dataset, adjust histogram by magnitude</li>
<li><code>03_quakes_depth</code>: add depth slider, select box for variable to histogram</li>
<li><code>04_quakes_map</code>: add leaflet map</li>
<li><code>05_quakes_dashboard</code>: enhance user interface (ie “ui”) with <code>shinydashboard</code> <img src="figs/apps/screenshot-05_quakes_dashboard.png" /></li>
</ul>
<p>Numbered folders in this repository correspond with iterative development and enhancement of a Shiny app.</p>
<p>The following sections in this Rmarkdown document demonstrate how you can develop output visualizations for use in a Shiny app, especially by defining input variables as a list (<code>input$*</code>).</p>
<p>Knitting Rmarkdown documents and pushing to Github then allows the HTML to be viewable (using the <a href="https://pages.github.com">Github Pages</a> feature). In contrast, Github and most web hosting services can <strong><em>not</em></strong> host a Shiny app. Although the <a href="http://rstudio.github.io/leaflet">leaflet</a> and <a href="https://plot.ly/ggplot2">plotly</a> visualizations in this document are interactive in the web browser, they do not require the Shiny library or a Shiny server to be displayed. Rather, the HTML output can be easily hosted on the most basic web server or passed as an email attachment. The Shiny context allows for ultimate flexibility with user interactions, but may be overkill for basic visualization. Check out all the amazing <a href="http://www.htmlwidgets.org/">htmlwidgets.org</a> and framework that works in the three contexts of: 1) RStudio, 2) Rmarkdown, and 3) Shiny.</p>
<div id="faithful" class="section level3" number="1.3.1">
<h3 number="6.3.1"><span class="header-section-number">6.3.1</span> <code>01_faithful</code></h3>
<ul>
<li><p>Code: <a href="https://github.com/bbest/shiny-intro/tree/master/01_faithful">01_faithful</a></p></li>
<li><p>Run from GitHub:</p>
<pre class="r"><code>shiny::runGitHub(&quot;bbest/shiny-intro&quot;, subdir=&quot;01_faithful&quot;)</code></pre></li>
<li><p>Run locally:</p>
<pre class="r"><code>shiny::runApp(&quot;01_faithful&quot;)</code></pre></li>
</ul>
<p>In order to quickly experiment with visualization, we could pull the code from within the rendering function of the Shiny app and set the input list values that would otherwise be set from the user interface…</p>
<pre class="r"><code>input = list(bins = 30)

x &lt;- faithful[, 2] 
bins &lt;- seq(min(x), max(x), length.out = input$bins + 1)
    
hist(x, breaks = bins, col = &#39;darkgray&#39;, border = &#39;white&#39;)</code></pre>
<p><img src="apps_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="quakes_mag" class="section level3" number="1.3.2">
<h3 number="6.3.2"><span class="header-section-number">6.3.2</span> <code>02_quakes_mag</code></h3>
<pre class="r"><code>library(tidyverse)

input &lt;- list(slider_mag = c(4, 6))

d &lt;- quakes %&gt;%
  filter(
    mag &gt;= input$slider_mag[1],
    mag &lt;= input$slider_mag[2])

hist(d$mag, col = &#39;darkgray&#39;, border = &#39;white&#39;)</code></pre>
<p><img src="apps_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<ul>
<li><p>Code: <a href="https://github.com/bbest/shiny-intro/tree/master/02_quakes_mag">02_quakes_mag</a></p></li>
<li><p>Run from GitHub:</p>
<pre class="r"><code>shiny::runGitHub(&quot;bbest/shiny-intro&quot;, subdir=&quot;02_quakes_mag&quot;)</code></pre></li>
<li><p>Run locally:</p>
<pre class="r"><code>shiny::runApp(&quot;02_quakes_mag&quot;)</code></pre></li>
</ul>
</div>
<div id="quakes_depth" class="section level3" number="1.3.3">
<h3 number="6.3.3"><span class="header-section-number">6.3.3</span> <code>03_quakes_depth</code></h3>
<pre class="r"><code>library(tidyverse)

input &lt;- list(
  select_var = &quot;depth&quot;, 
  slider_mag = c(4, 5), 
  slider_depth = c(0, 100))

d &lt;- quakes %&gt;%
  filter(
    mag   &gt;= input$slider_mag[1],
    mag   &lt;= input$slider_mag[2],
    depth &gt;= input$slider_depth[1],
    depth &lt;= input$slider_depth[2])

hist(d[,input$select_var], col = &#39;darkgray&#39;, border = &#39;white&#39;)</code></pre>
<p><img src="apps_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<ul>
<li><p>Code: <a href="https://github.com/bbest/shiny-intro/tree/master/03_quakes_depth">03_quakes_depth</a></p></li>
<li><p>Run from GitHub:</p>
<pre class="r"><code>shiny::runGitHub(&quot;bbest/shiny-intro&quot;, subdir=&quot;03_quakes_depth&quot;)</code></pre></li>
<li><p>Run locally:</p>
<pre class="r"><code>shiny::runApp(&quot;03_quakes_depth&quot;)</code></pre></li>
<li><p><a href="https://github.com/bbest/shiny-intro/tree/master/04_quakes_map">shiny-intro/04_quakes_map at master · bbest/shiny-intro</a></p></li>
<li><p><a href="https://github.com/bbest/shiny-intro/tree/master/05_quakes_dashboard">shiny-intro/05_quakes_dashboard at master · bbest/shiny-intro</a></p></li>
<li><p><a href="http://benbestphd.com/shiny-intro/crosstalk.html">Fiji earthquakes</a></p></li>
</ul>
</div>
<div id="quakes_map" class="section level3" number="1.3.4">
<h3 number="6.3.4"><span class="header-section-number">6.3.4</span> <code>04_quakes_map</code></h3>
<ul>
<li><a href="http://rstudio.github.io/leaflet/markers.html#icon-markers">Leaflet for R - Markers</a></li>
</ul>
<pre class="r"><code>library(leaflet)
library(glue)

leaflet(data = quakes[1:20,]) %&gt;% 
  addTiles() %&gt;%
  addCircleMarkers(
    radius = ~mag, color = &quot;red&quot;, stroke = FALSE, fillOpacity = 0.5,
    popup = ~glue(&quot;&lt;b&gt;mag&lt;/b&gt;: {mag}&lt;br&gt;depth: {depth} m&quot;), label = ~as.character(mag))</code></pre>
<div id="htmlwidget-67609b4427feb5941399" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-67609b4427feb5941399">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[-20.42,-20.62,-26,-17.97,-20.42,-19.68,-11.7,-28.11,-28.74,-17.47,-21.44,-12.26,-18.54,-21,-20.7,-15.94,-13.64,-17.83,-23.5,-22.63],[181.62,181.03,184.1,181.66,181.96,184.31,166.1,181.93,181.74,179.59,180.69,167,182.11,181.66,169.92,184.95,165.96,181.5,179.78,180.31],[4.8,4.2,5.4,4.1,4,4,4.8,4.4,4.7,4.3,4.4,4.6,4.4,4.4,6.1,4.3,6,4.5,4.4,4.4],null,null,{"interactive":true,"className":"","stroke":false,"color":"red","weight":5,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.5},null,null,["<b>mag<\/b>: 4.8<br>depth: 562 m","<b>mag<\/b>: 4.2<br>depth: 650 m","<b>mag<\/b>: 5.4<br>depth: 42 m","<b>mag<\/b>: 4.1<br>depth: 626 m","<b>mag<\/b>: 4<br>depth: 649 m","<b>mag<\/b>: 4<br>depth: 195 m","<b>mag<\/b>: 4.8<br>depth: 82 m","<b>mag<\/b>: 4.4<br>depth: 194 m","<b>mag<\/b>: 4.7<br>depth: 211 m","<b>mag<\/b>: 4.3<br>depth: 622 m","<b>mag<\/b>: 4.4<br>depth: 583 m","<b>mag<\/b>: 4.6<br>depth: 249 m","<b>mag<\/b>: 4.4<br>depth: 554 m","<b>mag<\/b>: 4.4<br>depth: 600 m","<b>mag<\/b>: 6.1<br>depth: 139 m","<b>mag<\/b>: 4.3<br>depth: 306 m","<b>mag<\/b>: 6<br>depth: 50 m","<b>mag<\/b>: 4.5<br>depth: 590 m","<b>mag<\/b>: 4.4<br>depth: 570 m","<b>mag<\/b>: 4.4<br>depth: 598 m"],null,["4.8","4.2","5.4","4.1","4","4","4.8","4.4","4.7","4.3","4.4","4.6","4.4","4.4","6.1","4.3","6","4.5","4.4","4.4"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-28.74,-11.7],"lng":[165.96,184.95]}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><p>Code: <a href="https://github.com/bbest/shiny-intro/tree/master/04_quakes_map">04_quakes_map</a></p></li>
<li><p>Run from GitHub:</p>
<pre class="r"><code>shiny::runGitHub(&quot;bbest/shiny-intro&quot;, subdir=&quot;04_quakes_map&quot;)</code></pre></li>
<li><p>Run locally:</p>
<pre class="r"><code>shiny::runApp(&quot;04_quakes_map&quot;)</code></pre></li>
</ul>
</div>
<div id="quakes_dashboard" class="section level3" number="1.3.5">
<h3 number="6.3.5"><span class="header-section-number">6.3.5</span> <code>05_quakes_dashboard</code></h3>
<p>Use:</p>
<ul>
<li><p><a href="http://rstudio.github.io/shinydashboard" class="uri">shinydashboard</a></p></li>
<li><p><a href="https://github.com/tidyverse/ggplot2" class="uri">ggplot2</a></p></li>
<li><p><a href="https://plot.ly/ggplot2" class="uri">plot.ly</a></p></li>
</ul>
<pre class="r"><code>library(tidyverse)
library(glue)

input &lt;- list(
  select_var   = &quot;depth&quot;, 
  slider_mag   = c(4, 5), 
  slider_depth = c(0, 100))

get_df &lt;- function(){
  df &lt;- quakes %&gt;%
    filter(
      mag   &gt;= input$slider_mag[1],
      mag   &lt;= input$slider_mag[2],
      depth &gt;= input$slider_depth[1],
      depth &lt;= input$slider_depth[2])
  df$var &lt;- df[[input$select_var]]
  df
}

df        &lt;- get_df()
bin_width &lt;- min(c(7, length(unique(df$var))))
    
g &lt;- ggplot(df, aes(var)) + 
  geom_histogram(binwidth=bin_width)

plotly::ggplotly(g)</code></pre>
<div id="htmlwidget-d66c4911ff380102ef53" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-d66c4911ff380102ef53">{"x":{"data":[{"orientation":"v","width":[7,7,7,7,7,7,7,7,7],"base":[0,0,0,0,0,0,0,0,0],"x":[42,49,56,63,70,77,84,91,98],"y":[32,31,19,28,29,17,16,12,15],"text":["count: 32<br />var: 42","count: 31<br />var: 49","count: 19<br />var: 56","count: 28<br />var: 63","count: 29<br />var: 70","count: 17<br />var: 77","count: 16<br />var: 84","count: 12<br />var: 91","count: 15<br />var: 98"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(89,89,89,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[35.35,104.65],"tickmode":"array","ticktext":["40","60","80","100"],"tickvals":[40,60,80,100],"categoryorder":"array","categoryarray":["40","60","80","100"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"var","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.6,33.6],"tickmode":"array","ticktext":["0","10","20","30"],"tickvals":[0,10,20,30],"categoryorder":"array","categoryarray":["0","10","20","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"count","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"48b26ebd1e2c":{"x":{},"type":"bar"}},"cur_data":"48b26ebd1e2c","visdat":{"48b26ebd1e2c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<ul>
<li><p>Code: <a href="https://github.com/bbest/shiny-intro/tree/master/05_quakes_dashboard">05_quakes_dashboard</a></p></li>
<li><p>Run from GitHub:</p>
<pre class="r"><code>shiny::runGitHub(&quot;bbest/shiny-intro&quot;, subdir=&quot;05_quakes_dashboard&quot;)</code></pre></li>
<li><p>Run locally:</p>
<pre class="r"><code>shiny::runApp(&quot;05_quakes_dashboard&quot;)</code></pre></li>
<li><p>View app directly: <a href="https://bdbest.shinyapps.io/05_quakes_dashboard" class="uri">https://bdbest.shinyapps.io/05_quakes_dashboard</a></p>
<p><a href="https://bdbest.shinyapps.io/05_quakes_dashboard"><img src="figs/apps/screenshot-05_quakes_dashboard.png" /></a></p></li>
</ul>
</div>
</div>
<div id="rmarkdown-using-crosstalk" class="section level2" number="1.4">
<h2 number="6.4"><span class="header-section-number">6.4</span> Rmarkdown using Crosstalk</h2>
<ul>
<li><a href="https://rstudio.github.io/crosstalk" class="uri">https://rstudio.github.io/crosstalk</a></li>
</ul>
<pre class="r"><code>library(crosstalk)
library(leaflet)
library(DT)

# Wrap data frame in SharedData
sd &lt;- SharedData$new(quakes[sample(nrow(quakes), 100),])

# Create a filter input
filter_slider(&quot;mag&quot;, &quot;Magnitude&quot;, sd, column=~mag, step=0.1, width=250)</code></pre>
<div class="form-group crosstalk-input crosstalk-input-slider js-range-slider" id="mag" style="width: 250px;">
<label class="control-label" for="mag">Magnitude</label>
<input data-type="double" data-min="4" data-max="5.7" data-from="4" data-to="5.7" data-step="0.1" data-grid="true" data-grid-num="8.5" data-grid-snap="false" data-prettify-separator="," data-keyboard="true" data-keyboard-step="5.88235294117647" data-drag-interval="true" data-data-type="number"/>
<script type="application/json" data-for="mag">{
  "values": [4, 4, 4, 4, 4, 4, 4, 4, 4.1, 4.1, 4.1, 4.1, 4.1, 4.2, 4.2, 4.2, 4.2, 4.2, 4.2, 4.2, 4.2, 4.2, 4.2, 4.3, 4.3, 4.3, 4.3, 4.3, 4.4, 4.4, 4.4, 4.4, 4.4, 4.4, 4.4, 4.4, 4.4, 4.4, 4.4, 4.4, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.5, 4.6, 4.6, 4.6, 4.6, 4.6, 4.6, 4.6, 4.6, 4.7, 4.7, 4.7, 4.7, 4.7, 4.7, 4.7, 4.7, 4.8, 4.8, 4.8, 4.8, 4.8, 4.8, 4.8, 4.8, 4.8, 4.8, 4.8, 4.9, 4.9, 4.9, 5, 5, 5, 5, 5, 5, 5.1, 5.1, 5.1, 5.1, 5.2, 5.2, 5.2, 5.2, 5.4, 5.4, 5.5, 5.7],
  "keys": ["727", "637", "433", "58", "919", "5", "994", "362", "767", "895", "851", "431", "488", "877", "274", "396", "884", "751", "106", "718", "127", "154", "196", "187", "518", "216", "403", "16", "40", "768", "415", "417", "268", "529", "30", "996", "271", "233", "219", "393", "97", "438", "57", "422", "47", "569", "848", "343", "348", "170", "755", "388", "514", "517", "366", "31", "602", "402", "45", "943", "340", "786", "231", "262", "513", "523", "203", "118", "616", "412", "581", "661", "555", "468", "114", "240", "498", "1", "244", "395", "266", "608", "788", "745", "922", "643", "166", "889", "771", "126", "374", "528", "666", "74", "579", "571", "3", "936", "496", "275"],
  "group": ["SharedData35f9003a"]
}</script>
</div>
<pre class="r"><code># Use SharedData like a dataframe with Crosstalk-enabled widgets
bscols(
  leaflet(sd) %&gt;% 
    addTiles() %&gt;% 
    addMarkers(),
  datatable(
    sd, extensions=&quot;Scroller&quot;, style=&quot;bootstrap&quot;, class=&quot;compact&quot;, width=&quot;100%&quot;,
    options=list(deferRender=TRUE, scrollY=300, scroller=TRUE)))</code></pre>
<div class="container-fluid crosstalk-bscols">
<div class="fluid-row">
<div class="col-xs-6">
<div id="htmlwidget-7c11b0049efcf1e8a08b" style="width:100%;height:400px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-7c11b0049efcf1e8a08b">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addSelect","args":["SharedData35f9003a"]},{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[-17.78,-27.24,-22.24,-15.9,-18.82,-19.1,-20.3,-30.01,-23.61,-18.21,-17.1,-18.85,-23.74,-20.16,-19.85,-22.7,-23.46,-20.24,-22.54,-27.1,-19.51,-27.87,-18.55,-11.67,-21.5,-19.3,-14.43,-23.7,-22.3,-18.73,-20.75,-11.7,-23.44,-17.74,-16.03,-15.26,-18.04,-20.56,-17.93,-19.4,-26.6,-26.11,-28.15,-19.44,-26.1,-22.06,-26.4,-26.78,-24.96,-15.18,-20.9,-19.3,-19.84,-19.77,-25.93,-22.58,-25.06,-28.1,-21.04,-19.6,-11.63,-25.46,-16.99,-20.42,-11.8,-20.94,-30.4,-19.76,-16,-26,-18.4,-26.17,-24.68,-18.51,-17.95,-15.94,-34.2,-19.33,-27.27,-16.23,-22.13,-22.82,-30.04,-16.9,-20.21,-20.36,-19.23,-27.38,-18.89,-20.42,-17.61,-13.26,-24.41,-20.94,-27.23,-19.94,-14.46,-21.57,-18.2,-13.47],[181.53,181.11,184.56,167.16,169.33,184.52,182.3,180.8,180.27,180.87,182.8,182.2,179.99,181.99,184.51,181,180.17,185.1,172.91,182.18,183.97,183.4,182.23,166.02,185.2,183,167.26,179.6,181.9,168.8,184.52,166.3,184.6,181.25,185.43,183.13,181.84,184.41,167.89,180.94,182.77,178.3,183.4,183.5,182.5,180.6,181.7,183.61,180.22,185.93,181.51,183.84,182.37,181.4,179.54,179.24,182.8,182.25,181.2,183.84,166.14,179.98,187,181.96,165.8,181.58,181.4,181.41,182.82,184.1,183.4,184.2,183.33,182.64,181.37,184.95,179.43,186.16,182.5,183.59,180.38,184.52,181.2,185.72,183.83,181.19,169.41,182.39,169.42,181.62,181.2,167.01,180.03,181.26,180.98,182.39,167.26,185.62,183.68,172.29],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"ctKey":["616","97","412","581","40","767","438","661","788","666","727","877","74","274","768","57","514","771","496","340","637","786","433","517","415","745","417","396","187","268","518","884","555","895","468","529","751","922","126","231","422","114","643","106","718","58","47","366","240","851","262","127","30","374","996","31","919","602","395","569","402","848","513","5","154","216","403","271","233","3","431","266","523","579","994","16","166","936","343","203","275","889","498","362","219","196","45","348","170","1","488","528","755","393","388","943","571","608","244","118"],"ctGroup":"SharedData35f9003a"}]}],"limits":{"lat":[-34.2,-11.63],"lng":[165.8,187]}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="col-xs-6">
<div id="htmlwidget-ba0b05732a7ed310ebee" style="width:100%;height:500px;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-ba0b05732a7ed310ebee">{"x":{"crosstalkOptions":{"key":["616","97","412","581","40","767","438","661","788","666","727","877","74","274","768","57","514","771","496","340","637","786","433","517","415","745","417","396","187","268","518","884","555","895","468","529","751","922","126","231","422","114","643","106","718","58","47","366","240","851","262","127","30","374","996","31","919","602","395","569","402","848","513","5","154","216","403","271","233","3","431","266","523","579","994","16","166","936","343","203","275","889","498","362","219","196","45","348","170","1","488","528","755","393","388","943","571","608","244","118"],"group":"SharedData35f9003a"},"style":"bootstrap","filter":"none","extensions":["Scroller"],"data":[["616","97","412","581","40","767","438","661","788","666","727","877","74","274","768","57","514","771","496","340","637","786","433","517","415","745","417","396","187","268","518","884","555","895","468","529","751","922","126","231","422","114","643","106","718","58","47","366","240","851","262","127","30","374","996","31","919","602","395","569","402","848","513","5","154","216","403","271","233","3","431","266","523","579","994","16","166","936","343","203","275","889","498","362","219","196","45","348","170","1","488","528","755","393","388","943","571","608","244","118"],[-17.78,-27.24,-22.24,-15.9,-18.82,-19.1,-20.3,-30.01,-23.61,-18.21,-17.1,-18.85,-23.74,-20.16,-19.85,-22.7,-23.46,-20.24,-22.54,-27.1,-19.51,-27.87,-18.55,-11.67,-21.5,-19.3,-14.43,-23.7,-22.3,-18.73,-20.75,-11.7,-23.44,-17.74,-16.03,-15.26,-18.04,-20.56,-17.93,-19.4,-26.6,-26.11,-28.15,-19.44,-26.1,-22.06,-26.4,-26.78,-24.96,-15.18,-20.9,-19.3,-19.84,-19.77,-25.93,-22.58,-25.06,-28.1,-21.04,-19.6,-11.63,-25.46,-16.99,-20.42,-11.8,-20.94,-30.4,-19.76,-16,-26,-18.4,-26.17,-24.68,-18.51,-17.95,-15.94,-34.2,-19.33,-27.27,-16.23,-22.13,-22.82,-30.04,-16.9,-20.21,-20.36,-19.23,-27.38,-18.89,-20.42,-17.61,-13.26,-24.41,-20.94,-27.23,-19.94,-14.46,-21.57,-18.2,-13.47],[181.53,181.11,184.56,167.16,169.33,184.52,182.3,180.8,180.27,180.87,182.8,182.2,179.99,181.99,184.51,181,180.17,185.1,172.91,182.18,183.97,183.4,182.23,166.02,185.2,183,167.26,179.6,181.9,168.8,184.52,166.3,184.6,181.25,185.43,183.13,181.84,184.41,167.89,180.94,182.77,178.3,183.4,183.5,182.5,180.6,181.7,183.61,180.22,185.93,181.51,183.84,182.37,181.4,179.54,179.24,182.8,182.25,181.2,183.84,166.14,179.98,187,181.96,165.8,181.58,181.4,181.41,182.82,184.1,183.4,184.2,183.33,182.64,181.37,184.95,179.43,186.16,182.5,183.59,180.38,184.52,181.2,185.72,183.83,181.19,169.41,182.39,169.42,181.62,181.2,167.01,180.03,181.26,180.98,182.39,167.26,185.62,183.68,172.29],[511,365,99,41,230,230,476,286,537,631,390,501,506,504,184,445,541,86,54,43,280,87,563,102,139,302,151,646,309,82,144,139,63,559,297,393,611,138,49,664,119,617,57,293,133,584,329,40,470,77,548,517,328,630,470,553,133,68,591,309,109,479,70,649,112,573,40,105,431,42,343,65,70,405,642,306,40,44,51,367,577,49,49,135,242,637,246,69,239,562,537,213,500,556,401,544,195,66,107,64],[4.8,4.5,4.8,4.8,4.4,4.1,4.5,4.8,5,5.2,4,4.2,5.2,4.2,4.4,4.5,4.6,5.1,5.5,4.7,4,4.7,4,4.6,4.4,5,4.4,4.2,4.3,4.4,4.3,4.2,4.8,4.1,4.8,4.4,4.2,5,5.1,4.7,4.5,4.8,5,4.2,4.2,4,4.5,4.6,4.8,4.1,4.7,4.2,4.4,5.1,4.4,4.6,4,4.6,4.9,4.5,4.6,4.5,4.7,4,4.2,4.3,4.3,4.4,4.4,5.4,4.1,4.9,4.7,5.2,4,4.3,5,5.4,4.5,4.7,5.7,5,4.8,4,4.4,4.2,4.6,4.5,4.5,4.8,4.1,5.1,4.5,4.4,4.5,4.6,5.2,4.9,4.8,4.7],[56,21,57,42,11,16,10,43,63,69,14,23,75,11,26,17,32,61,71,17,16,34,17,21,15,65,17,21,11,14,25,15,27,16,25,28,20,82,43,34,29,39,32,15,17,11,24,22,41,16,32,21,17,54,22,21,14,18,45,23,36,27,30,11,20,21,17,15,16,43,10,37,30,74,17,11,37,110,13,35,104,52,20,22,29,23,27,12,27,41,11,70,34,21,39,30,87,38,52,14]],"container":"<table class=\"table table-condensed\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>lat<\/th>\n      <th>long<\/th>\n      <th>depth<\/th>\n      <th>mag<\/th>\n      <th>stations<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"deferRender":true,"scrollY":300,"scroller":true,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
<div id="further-resources" class="section level2 unnumbered">
<h2 class="unnumbered">Further Resources</h2>
<ul>
<li><a href="https://shiny.rstudio.com/articles/cheatsheet.html">Shiny Cheatsheet</a></li>
<li><a href="https://shiny.rstudio.com/tutorial/">Shiny Tutorial</a></li>
<li><a href="https://www.rstudio.com/resources/webinars/introduction-to-shiny/">Introduction to Shiny - RStudio</a></li>
</ul>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
